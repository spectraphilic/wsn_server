#
# See roles/django/defaults/main.yml for the available options
#

- name: "Production"
  hosts: "production"
  vars_files:
  - "vars.yml"
  roles:
  - role: "jdavid.django"
    django_debug      : false
    django_pull       : true
    django_with_monit : true

    django_domain     : "wsn.latice.eu"
    django_name       : "wsn"
    django_root       : "/home/wsn/wsn_server"

#   django_cache:
#     backend         : "memcached"
#     location        : "unix:/run/memcached/memcached.sock"

    django_database:
      engine          : "postgres"
      name            : "wsn"
      user            : "wsn"
      password        : "change-this-one"

    nginx_template    : "{{ playbook_dir }}/templates/nginx.conf"
    monit_template    : "{{ playbook_dir }}/templates/monit.conf"

    django_server:
      workers         : 6

    django_web:
      http            : false
      https           : true
      max_body_size   : "30m"
      timeout         : "600s"

    django_cert:
      email           : "jdavid@geo.uio.no"
